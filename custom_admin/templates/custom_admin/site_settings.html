{% extends 'custom_admin/base_admin.html' %}

{% block title %}Site Settings{% endblock %}
{% block page_title %}Site Settings{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto space-y-6">
    <!-- Header -->
    <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between">
        <div>
            <h1 class="text-2xl font-heading font-bold text-gray-900">Site Settings</h1>
            <p class="text-gray-600">Manage your church website settings and information</p>
        </div>
    </div>
    
    <!-- Settings Form -->
    <form method="post" enctype="multipart/form-data" class="space-y-8">
        {% csrf_token %}
        
        <!-- Church Information -->
        <div class="bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden">
            <div class="bg-gray-50 px-6 py-4 border-b border-gray-200">
                <h3 class="text-lg font-medium text-gray-900">
                    <i class="fas fa-church mr-2 text-primary-teal"></i>
                    Church Information
                </h3>
            </div>
            <div class="p-6 grid grid-cols-1 lg:grid-cols-2 gap-6">
                <!-- Church Name -->
                <div class="lg:col-span-2">
                    <label for="{{ form.church_name.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">
                        {{ form.church_name.label }}
                        <span class="text-red-500">*</span>
                    </label>
                    <input 
                        type="text" 
                        name="{{ form.church_name.name }}" 
                        id="{{ form.church_name.id_for_label }}"
                        value="{{ form.church_name.value|default:'' }}"
                        required
                        class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-teal focus:border-primary-teal"
                        placeholder="Enter church name"
                    >
                    {% if form.church_name.errors %}
                        <div class="mt-1">
                            {% for error in form.church_name.errors %}
                                <p class="text-sm text-red-600">{{ error }}</p>
                            {% endfor %}
                        </div>
                    {% endif %}
                </div>
                
                <!-- Tagline -->
                <div class="lg:col-span-2">
                    <label for="{{ form.tagline.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">
                        {{ form.tagline.label }}
                    </label>
                    <input 
                        type="text" 
                        name="{{ form.tagline.name }}" 
                        id="{{ form.tagline.id_for_label }}"
                        value="{{ form.tagline.value|default:'' }}"
                        class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-teal focus:border-primary-teal"
                        placeholder="Church tagline or motto"
                    >
                    {% if form.tagline.errors %}
                        <div class="mt-1">
                            {% for error in form.tagline.errors %}
                                <p class="text-sm text-red-600">{{ error }}</p>
                            {% endfor %}
                        </div>
                    {% endif %}
                </div>
                
                <!-- Description -->
                <div class="lg:col-span-2">
                    <label for="{{ form.description.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">
                        {{ form.description.label }}
                    </label>
                    <textarea 
                        name="{{ form.description.name }}" 
                        id="{{ form.description.id_for_label }}"
                        class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-teal focus:border-primary-teal resize-vertical min-h-[100px]"
                        placeholder="Brief description of your church..."
                    >{{ form.description.value|default:'' }}</textarea>
                    {% if form.description.errors %}
                        <div class="mt-1">
                            {% for error in form.description.errors %}
                                <p class="text-sm text-red-600">{{ error }}</p>
                            {% endfor %}
                        </div>
                    {% endif %}
                </div>
            </div>
        </div>

        <!-- Leadership & Hero Images -->
        <div class="bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden">
            <div class="bg-gray-50 px-6 py-4 border-b border-gray-200">
                <h3 class="text-lg font-medium text-gray-900">
                    <i class="fas fa-images mr-2 text-primary-teal"></i>
                    Leadership & Hero Images
                </h3>
                <p class="text-sm text-gray-600 mt-1">Upload the General Overseer card image and update hero images for key pages.</p>
            </div>
            <div class="p-6 space-y-8">
                <!-- General Overseer Card Photo -->
                <div>
                    <label for="go_card_photo" class="block text-sm font-medium text-gray-700 mb-2">
                        General Overseer Card Photo
                    </label>
                    <input
                        type="file"
                        name="go_card_photo"
                        id="go_card_photo"
                        class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-teal focus:border-primary-teal file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary-teal file:text-white hover:file:bg-cyan-600"
                        accept="image/*"
                    >
                    {% if general_overseer and general_overseer.get_go_card_photo %}
                        <div class="mt-4 flex items-center space-x-4">
                            <img src="{{ general_overseer.get_go_card_photo.url }}" alt="General Overseer Card" class="h-24 w-24 object-cover rounded-lg border border-gray-200">
                            <div class="text-sm text-gray-500">
                                Current: <a href="{{ general_overseer.get_go_card_photo.url }}" target="_blank" class="text-primary-teal hover:underline">View image</a>
                            </div>
                        </div>
                    {% endif %}
                    <p class="text-xs text-gray-500 mt-2">Optional dedicated image for the left GO card and mobile hero on the leadership page. If not provided, the main profile photo is used.</p>
                </div>

                <!-- Hero Images Uploader -->
                <div>
                    <h4 class="text-md font-medium text-gray-900 mb-4">Page Hero Images</h4>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        {% for key, data in hero_images.items %}
                        <div class="border border-gray-200 rounded-lg p-4">
                            <label for="hero_{{ key }}" class="block text-sm font-medium text-gray-700 mb-2">
                                {{ data.label }}
                            </label>
                            <input
                                type="file"
                                name="hero_{{ key }}"
                                id="hero_{{ key }}"
                                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-teal focus:border-primary-teal file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary-teal file:text-white hover:file:bg-cyan-600"
                                accept="image/*"
                            >
                            {% if data.image and data.image.get_image_url %}
                                <div class="mt-3 flex items-center space-x-4">
                                    <img src="{{ data.image.get_image_url }}" alt="{{ data.label }}" class="h-20 w-32 object-cover rounded border border-gray-200">
                                    <a href="{{ data.image.get_image_url }}" target="_blank" class="text-sm text-primary-teal hover:underline">Open</a>
                                </div>
                            {% else %}
                                <p class="text-xs text-gray-500 mt-2">No image set yet.</p>
                            {% endif %}
                            <p class="text-xs text-gray-500 mt-2">Recommended: 1920x1080. Uploading a new file will replace the current hero image.</p>
                        </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>

        <!-- Hero Section -->
        <div class="bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden">
            <div class="bg-gray-50 px-6 py-4 border-b border-gray-200">
                <h3 class="text-lg font-medium text-gray-900">
                    <i class="fas fa-home mr-2 text-primary-teal"></i>
                    Hero Section
                </h3>
                <p class="text-sm text-gray-600 mt-1">Manage the main title and subtitle displayed on your homepage</p>
            </div>
            <div class="p-6 space-y-6">
                <!-- Hero Title -->
                <div>
                    <label for="{{ form.hero_title.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">
                        {{ form.hero_title.label }}
                    </label>
                    <input
                        type="text"
                        name="{{ form.hero_title.name }}"
                        id="{{ form.hero_title.id_for_label }}"
                        value="{{ form.hero_title.value|default:'' }}"
                        class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-teal focus:border-primary-teal"
                        placeholder="Welcome to Our Church Family"
                    >
                    {% if form.hero_title.errors %}
                        <div class="mt-1">
                            {% for error in form.hero_title.errors %}
                                <p class="text-sm text-red-600">{{ error }}</p>
                            {% endfor %}
                        </div>
                    {% endif %}
                </div>

                <!-- Hero Subtitle -->
                <div>
                    <label for="{{ form.hero_subtitle.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">
                        {{ form.hero_subtitle.label }}
                    </label>
                    <textarea
                        name="{{ form.hero_subtitle.name }}"
                        id="{{ form.hero_subtitle.id_for_label }}"
                        class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-teal focus:border-primary-teal resize-vertical min-h-[100px]"
                        placeholder="Join our vibrant community of believers as we worship, grow in faith, and serve with purpose in God's amazing love."
                    >{{ form.hero_subtitle.value|default:'' }}</textarea>
                    {% if form.hero_subtitle.errors %}
                        <div class="mt-1">
                            {% for error in form.hero_subtitle.errors %}
                                <p class="text-sm text-red-600">{{ error }}</p>
                            {% endfor %}
                        </div>
                    {% endif %}
                </div>
            </div>
        </div>

        <!-- Contact Information -->
        <div class="bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden">
            <div class="bg-gray-50 px-6 py-4 border-b border-gray-200">
                <h3 class="text-lg font-medium text-gray-900">
                    <i class="fas fa-phone mr-2 text-primary-teal"></i>
                    Contact Information
                </h3>
            </div>
            <div class="p-6 grid grid-cols-1 lg:grid-cols-2 gap-6">
                <!-- Phone -->
                <div>
                    <label for="{{ form.phone.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">
                        {{ form.phone.label }}
                    </label>
                    <input 
                        type="tel" 
                        name="{{ form.phone.name }}" 
                        id="{{ form.phone.id_for_label }}"
                        value="{{ form.phone.value|default:'' }}"
                        class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-teal focus:border-primary-teal"
                        placeholder="+1 (555) 123-4567"
                    >
                    {% if form.phone.errors %}
                        <div class="mt-1">
                            {% for error in form.phone.errors %}
                                <p class="text-sm text-red-600">{{ error }}</p>
                            {% endfor %}
                        </div>
                    {% endif %}
                </div>
                
                <!-- Email -->
                <div>
                    <label for="{{ form.email.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">
                        {{ form.email.label }}
                    </label>
                    <input 
                        type="email" 
                        name="{{ form.email.name }}" 
                        id="{{ form.email.id_for_label }}"
                        value="{{ form.email.value|default:'' }}"
                        class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-teal focus:border-primary-teal"
                        placeholder="info@church.com"
                    >
                    {% if form.email.errors %}
                        <div class="mt-1">
                            {% for error in form.email.errors %}
                                <p class="text-sm text-red-600">{{ error }}</p>
                            {% endfor %}
                        </div>
                    {% endif %}
                </div>
                
                <!-- Address -->
                <div class="lg:col-span-2">
                    <label for="{{ form.address.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">
                        {{ form.address.label }}
                    </label>
                    <textarea 
                        name="{{ form.address.name }}" 
                        id="{{ form.address.id_for_label }}"
                        class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-teal focus:border-primary-teal resize-vertical min-h-[80px]"
                        placeholder="Church address..."
                    >{{ form.address.value|default:'' }}</textarea>
                    {% if form.address.errors %}
                        <div class="mt-1">
                            {% for error in form.address.errors %}
                                <p class="text-sm text-red-600">{{ error }}</p>
                            {% endfor %}
                        </div>
                    {% endif %}
                </div>
            </div>
        </div>
        
        <!-- Service Times -->
        <div class="bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden">
            <div class="bg-gray-50 px-6 py-4 border-b border-gray-200">
                <h3 class="text-lg font-medium text-gray-900">
                    <i class="fas fa-clock mr-2 text-primary-teal"></i>
                    Service Times
                </h3>
            </div>
            <div class="p-6">
                <div class="flex items-center justify-between">
                    <div>
                        <h4 class="text-lg font-medium text-gray-900 mb-2">Manage Service Schedule</h4>
                        <p class="text-gray-600">Configure your church service times with an easy-to-use interface. No HTML knowledge required!</p>
                    </div>
                    <div class="ml-6">
                        <a href="{% url 'custom_admin:service_time_list' %}" class="inline-flex items-center px-4 py-2 bg-primary-teal text-white rounded-lg hover:bg-cyan-600 transition-colors duration-200">
                            <i class="fas fa-cog mr-2"></i>
                            Manage Service Times
                        </a>
                    </div>
                </div>

                <!-- Current Service Times Preview -->
                {% load core_tags %}
                {% get_service_times as service_times %}
                {% if service_times %}
                <div class="mt-6 bg-gray-50 p-4 rounded-lg border border-gray-100">
                    <h5 class="text-sm font-medium text-gray-700 mb-3">Current Service Times:</h5>
                    <div class="space-y-2">
                        {% for service_time in service_times %}
                        <div class="flex justify-between text-sm">
                            <span class="text-gray-900">{{ service_time.name }}</span>
                            <span class="text-gray-600">{{ service_time.time }}</span>
                        </div>
                        {% endfor %}
                    </div>
                </div>
                {% else %}
                <div class="mt-6 bg-yellow-50 p-4 rounded-lg border border-yellow-200">
                    <div class="flex items-center">
                        <i class="fas fa-exclamation-triangle text-yellow-600 mr-2"></i>
                        <p class="text-sm text-yellow-800">No service times configured yet. Click "Manage Service Times" to add your first service.</p>
                    </div>
                </div>
                {% endif %}
            </div>
        </div>
        
        <!-- Social Media -->
        <div class="bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden">
            <div class="bg-gray-50 px-6 py-4 border-b border-gray-200">
                <h3 class="text-lg font-medium text-gray-900">
                    <i class="fas fa-share-alt mr-2 text-primary-teal"></i>
                    Social Media
                </h3>
            </div>
            <div class="p-6 grid grid-cols-1 lg:grid-cols-2 gap-6">
                <!-- Facebook URL -->
                <div>
                    <label for="{{ form.facebook_url.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">
                        {{ form.facebook_url.label }}
                    </label>
                    <input 
                        type="url" 
                        name="{{ form.facebook_url.name }}" 
                        id="{{ form.facebook_url.id_for_label }}"
                        value="{{ form.facebook_url.value|default:'' }}"
                        class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-teal focus:border-primary-teal"
                        placeholder="https://facebook.com/yourchurch"
                    >
                    {% if form.facebook_url.errors %}
                        <div class="mt-1">
                            {% for error in form.facebook_url.errors %}
                                <p class="text-sm text-red-600">{{ error }}</p>
                            {% endfor %}
                        </div>
                    {% endif %}
                </div>
                
                <!-- YouTube URL -->
                <div>
                    <label for="{{ form.youtube_url.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">
                        {{ form.youtube_url.label }}
                    </label>
                    <input 
                        type="url" 
                        name="{{ form.youtube_url.name }}" 
                        id="{{ form.youtube_url.id_for_label }}"
                        value="{{ form.youtube_url.value|default:'' }}"
                        class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-teal focus:border-primary-teal"
                        placeholder="https://youtube.com/yourchurch"
                    >
                    {% if form.youtube_url.errors %}
                        <div class="mt-1">
                            {% for error in form.youtube_url.errors %}
                                <p class="text-sm text-red-600">{{ error }}</p>
                            {% endfor %}
                        </div>
                    {% endif %}
                </div>
                
                <!-- Instagram URL -->
                <div>
                    <label for="{{ form.instagram_url.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">
                        {{ form.instagram_url.label }}
                    </label>
                    <input 
                        type="url" 
                        name="{{ form.instagram_url.name }}" 
                        id="{{ form.instagram_url.id_for_label }}"
                        value="{{ form.instagram_url.value|default:'' }}"
                        class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-teal focus:border-primary-teal"
                        placeholder="https://instagram.com/yourchurch"
                    >
                    {% if form.instagram_url.errors %}
                        <div class="mt-1">
                            {% for error in form.instagram_url.errors %}
                                <p class="text-sm text-red-600">{{ error }}</p>
                            {% endfor %}
                        </div>
                    {% endif %}
                </div>
                
                <!-- Twitter URL -->
                <div>
                    <label for="{{ form.twitter_url.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">
                        {{ form.twitter_url.label }}
                    </label>
                    <input 
                        type="url" 
                        name="{{ form.twitter_url.name }}" 
                        id="{{ form.twitter_url.id_for_label }}"
                        value="{{ form.twitter_url.value|default:'' }}"
                        class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-teal focus:border-primary-teal"
                        placeholder="https://twitter.com/yourchurch"
                    >
                    {% if form.twitter_url.errors %}
                        <div class="mt-1">
                            {% for error in form.twitter_url.errors %}
                                <p class="text-sm text-red-600">{{ error }}</p>
                            {% endfor %}
                        </div>
                    {% endif %}
                </div>
            </div>
        </div>
        
        <!-- Giving Information -->
        <div class="bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden">
            <div class="bg-gray-50 px-6 py-4 border-b border-gray-200">
                <h3 class="text-lg font-medium text-gray-900">
                    <i class="fas fa-heart mr-2 text-primary-teal"></i>
                    Giving Information
                </h3>
            </div>
            <div class="p-6 grid grid-cols-1 lg:grid-cols-2 gap-6">
                <!-- Giving Instructions -->
                <div class="lg:col-span-2">
                    <label for="{{ form.giving_instructions.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">
                        {{ form.giving_instructions.label }}
                    </label>
                    <textarea 
                        name="{{ form.giving_instructions.name }}" 
                        id="{{ form.giving_instructions.id_for_label }}"
                        class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-teal focus:border-primary-teal resize-vertical min-h-[100px]"
                        placeholder="Instructions for giving and donations..."
                    >{{ form.giving_instructions.value|default:'' }}</textarea>
                    {% if form.giving_instructions.errors %}
                        <div class="mt-1">
                            {% for error in form.giving_instructions.errors %}
                                <p class="text-sm text-red-600">{{ error }}</p>
                            {% endfor %}
                        </div>
                    {% endif %}
                </div>
                
                <!-- PayPal Email -->
                <div>
                    <label for="{{ form.paypal_email.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">
                        {{ form.paypal_email.label }}
                    </label>
                    <input 
                        type="email" 
                        name="{{ form.paypal_email.name }}" 
                        id="{{ form.paypal_email.id_for_label }}"
                        value="{{ form.paypal_email.value|default:'' }}"
                        class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-teal focus:border-primary-teal"
                        placeholder="paypal@church.com"
                    >
                    {% if form.paypal_email.errors %}
                        <div class="mt-1">
                            {% for error in form.paypal_email.errors %}
                                <p class="text-sm text-red-600">{{ error }}</p>
                            {% endfor %}
                        </div>
                    {% endif %}
                </div>
                
                <!-- Bank Details -->
                <div>
                    <label for="{{ form.bank_details.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">
                        {{ form.bank_details.label }}
                    </label>
                    <textarea 
                        name="{{ form.bank_details.name }}" 
                        id="{{ form.bank_details.id_for_label }}"
                        class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-teal focus:border-primary-teal resize-vertical min-h-[80px]"
                        placeholder="Bank account details for donations..."
                    >{{ form.bank_details.value|default:'' }}</textarea>
                    {% if form.bank_details.errors %}
                        <div class="mt-1">
                            {% for error in form.bank_details.errors %}
                                <p class="text-sm text-red-600">{{ error }}</p>
                            {% endfor %}
                        </div>
                    {% endif %}
                </div>
            </div>
        </div>

        <!-- Payment Configuration -->
        <div class="bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden">
            <div class="bg-gray-50 px-6 py-4 border-b border-gray-200">
                <h3 class="text-lg font-medium text-gray-900">
                    <i class="fas fa-credit-card mr-2 text-primary-teal"></i>
                    Payment Configuration
                </h3>
                <p class="text-sm text-gray-600 mt-1">Configure Paystack for online donations</p>
            </div>
            <div class="p-6 space-y-6">
                <!-- Enable Paystack -->
                <div class="flex items-center">
                    <input
                        type="checkbox"
                        name="{{ form.enable_paystack.name }}"
                        id="{{ form.enable_paystack.id_for_label }}"
                        {% if form.enable_paystack.value %}checked{% endif %}
                        class="h-4 w-4 text-primary-teal focus:ring-primary-teal border-gray-300 rounded"
                    >
                    <label for="{{ form.enable_paystack.id_for_label }}" class="ml-2 block text-sm font-medium text-gray-700">
                        {{ form.enable_paystack.label }}
                    </label>
                </div>
                {% if form.enable_paystack.help_text %}
                    <p class="text-xs text-gray-500">{{ form.enable_paystack.help_text }}</p>
                {% endif %}
                {% if form.enable_paystack.errors %}
                    <div class="mt-1">
                        {% for error in form.enable_paystack.errors %}
                            <p class="text-sm text-red-600">{{ error }}</p>
                        {% endfor %}
                    </div>
                {% endif %}

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <!-- Paystack Public Key -->
                    <div>
                        <label for="{{ form.paystack_public_key.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">
                            {{ form.paystack_public_key.label }}
                        </label>
                        <input
                            type="text"
                            name="{{ form.paystack_public_key.name }}"
                            id="{{ form.paystack_public_key.id_for_label }}"
                            value="{{ form.paystack_public_key.value|default:'' }}"
                            class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-teal focus:border-primary-teal"
                            placeholder="pk_test_..."
                        >
                        {% if form.paystack_public_key.help_text %}
                            <p class="text-xs text-gray-500 mt-1">{{ form.paystack_public_key.help_text }}</p>
                        {% endif %}
                        {% if form.paystack_public_key.errors %}
                            <div class="mt-1">
                                {% for error in form.paystack_public_key.errors %}
                                    <p class="text-sm text-red-600">{{ error }}</p>
                                {% endfor %}
                            </div>
                        {% endif %}
                    </div>

                    <!-- Paystack Secret Key -->
                    <div>
                        <label for="{{ form.paystack_secret_key.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">
                            {{ form.paystack_secret_key.label }}
                        </label>
                        <input
                            type="password"
                            name="{{ form.paystack_secret_key.name }}"
                            id="{{ form.paystack_secret_key.id_for_label }}"
                            value="{{ form.paystack_secret_key.value|default:'' }}"
                            class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-teal focus:border-primary-teal"
                            placeholder="sk_test_..."
                        >
                        {% if form.paystack_secret_key.help_text %}
                            <p class="text-xs text-gray-500 mt-1">{{ form.paystack_secret_key.help_text }}</p>
                        {% endif %}
                        {% if form.paystack_secret_key.errors %}
                            <div class="mt-1">
                                {% for error in form.paystack_secret_key.errors %}
                                    <p class="text-sm text-red-600">{{ error }}</p>
                                {% endfor %}
                            </div>
                        {% endif %}
                    </div>
                </div>

                <!-- Paystack Setup Instructions -->
                <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
                    <div class="flex">
                        <div class="flex-shrink-0">
                            <i class="fas fa-info-circle text-blue-400"></i>
                        </div>
                        <div class="ml-3">
                            <h4 class="text-sm font-medium text-blue-800">Paystack Setup Instructions</h4>
                            <div class="mt-2 text-sm text-blue-700">
                                <ol class="list-decimal list-inside space-y-1">
                                    <li>Create a Paystack account at <a href="https://paystack.com" target="_blank" class="underline">paystack.com</a></li>
                                    <li>Go to Settings â†’ API Keys & Webhooks</li>
                                    <li>Copy your Public Key and Secret Key</li>
                                    <li>Paste them in the fields above</li>
                                    <li>Enable Paystack integration</li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Logo -->
        <div class="bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden">
            <div class="bg-gray-50 px-6 py-4 border-b border-gray-200">
                <h3 class="text-lg font-medium text-gray-900">
                    <i class="fas fa-image mr-2 text-primary-teal"></i>
                    Church Logo
                </h3>
            </div>
            <div class="p-6">
                <label for="{{ form.logo.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">
                    {{ form.logo.label }}
                </label>
                <input 
                    type="file" 
                    name="{{ form.logo.name }}" 
                    id="{{ form.logo.id_for_label }}"
                    class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-teal focus:border-primary-teal file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary-teal file:text-white hover:file:bg-cyan-600"
                    accept="image/*"
                >
                {% if form.logo.value %}
                    <div class="mt-4 flex items-center space-x-4">
                        <img src="{{ form.logo.value.url }}" alt="Current Logo" class="h-16 w-16 object-contain rounded-lg border border-gray-200">
                        <div class="text-sm text-gray-500">
                            Current logo: <a href="{{ form.logo.value.url }}" target="_blank" class="text-primary-teal hover:underline">{{ form.logo.value.name }}</a>
                        </div>
                    </div>
                {% endif %}
                {% if form.logo.errors %}
                    <div class="mt-1">
                        {% for error in form.logo.errors %}
                            <p class="text-sm text-red-600">{{ error }}</p>
                        {% endfor %}
                    </div>
                {% endif %}
            </div>
        </div>

        <!-- CTA Section Media -->
        <div class="bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden">
            <div class="bg-gray-50 px-6 py-4 border-b border-gray-200">
                <h3 class="text-lg font-medium text-gray-900">
                    <i class="fas fa-bullhorn mr-2 text-primary-teal"></i>
                    Call-to-Action Media
                </h3>
                <p class="text-sm text-gray-600 mt-1">Add optional image or YouTube video to enhance CTA sections</p>
            </div>
            <div class="p-6 space-y-6">
                <!-- CTA Image -->
                <div>
                    <label for="{{ form.cta_image.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">
                        {{ form.cta_image.label }}
                    </label>
                    <input
                        type="file"
                        name="{{ form.cta_image.name }}"
                        id="{{ form.cta_image.id_for_label }}"
                        class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-teal focus:border-primary-teal file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary-teal file:text-white hover:file:bg-cyan-600"
                        accept="image/*"
                    >
                    {% if form.cta_image.value %}
                        <div class="mt-4 flex items-center space-x-4">
                            <img src="{{ form.cta_image.value.url }}" alt="Current CTA Image" class="h-20 w-32 object-cover rounded-lg border border-gray-200">
                            <div class="text-sm text-gray-500">
                                Current image: <a href="{{ form.cta_image.value.url }}" target="_blank" class="text-primary-teal hover:underline">{{ form.cta_image.value.name }}</a>
                            </div>
                        </div>
                    {% endif %}
                    {% if form.cta_image.errors %}
                        <div class="mt-1">
                            {% for error in form.cta_image.errors %}
                                <p class="text-sm text-red-600">{{ error }}</p>
                            {% endfor %}
                        </div>
                    {% endif %}
                    <p class="text-xs text-gray-500 mt-2">Upload an image to display in CTA sections (optional)</p>
                </div>

                <!-- CTA YouTube URL -->
                <div>
                    <label for="{{ form.cta_youtube_url.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">
                        {{ form.cta_youtube_url.label }}
                    </label>
                    <input
                        type="url"
                        name="{{ form.cta_youtube_url.name }}"
                        id="{{ form.cta_youtube_url.id_for_label }}"
                        value="{{ form.cta_youtube_url.value|default:'' }}"
                        class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-teal focus:border-primary-teal"
                        placeholder="https://www.youtube.com/watch?v=VIDEO_ID"
                    >
                    {% if form.cta_youtube_url.errors %}
                        <div class="mt-1">
                            {% for error in form.cta_youtube_url.errors %}
                                <p class="text-sm text-red-600">{{ error }}</p>
                            {% endfor %}
                        </div>
                    {% endif %}
                    <p class="text-xs text-gray-500 mt-2">YouTube video URL to embed in CTA sections (takes priority over image)</p>
                </div>
            </div>
        </div>

        <!-- Save Button -->
        <div class="flex items-center justify-end space-x-4">
            <button
                type="submit"
                class="px-6 py-3 bg-primary-teal text-white rounded-lg hover:bg-cyan-600 transition-colors duration-200 flex items-center"
            >
                <i class="fas fa-save mr-2"></i>
                Save Settings
            </button>
        </div>
    </form>
</div>
{% endblock %}
